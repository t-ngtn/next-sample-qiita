(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7264)}])},2554:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var a=n(5893),r=n(6396),i=n(5449),o=n(2293),s=n(155),l=n(5861),c=n(7357),d=n(3946),u=n(657),h=n(7645),p=n(6514),f=n(8951),x=n(1903),m=n(1425),g=n(3321),j=n(1664),Z=n.n(j);function w(e){let{token:t,setToken:n,open:j,setOpen:w}=e,_=()=>{w(!0)},b=()=>{w(!1)},k=e=>{n(e.target.value)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{position:"static",children:(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(l.Z,{variant:"h6",color:"secondary",children:"Qiita Sample App"}),(0,a.jsx)(c.Z,{flexGrow:1}),(0,a.jsx)(Z(),{href:"https://github.com/t-ngtn/next-sample-qiita",target:"_blank",rel:"noopener",children:(0,a.jsx)(d.Z,{size:"large","aria-label":"move to GitHub repository","aria-controls":"menu-appbar","aria-haspopup":"true",color:"secondary",children:(0,a.jsx)(i.Z,{})})}),(0,a.jsx)(d.Z,{size:"large","aria-label":"setting Qiita API token","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:_,color:"secondary",children:(0,a.jsx)(r.Z,{})})]})}),(0,a.jsxs)(u.Z,{open:j,onClose:b,children:[(0,a.jsx)(h.Z,{children:"Set API Token"}),(0,a.jsxs)(p.Z,{children:[(0,a.jsx)(f.Z,{color:"primary",children:"Please enter your Qiita API token:"}),(0,a.jsx)(x.Z,{autoFocus:!0,margin:"dense",id:"api-token",label:"API Token",value:t,type:"text",fullWidth:!0,onChange:k})]}),(0,a.jsx)(m.Z,{children:(0,a.jsx)(g.Z,{onClick:b,children:"Close"})})]})]})}},7264:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=n(5893),r=n(7294),i=n(4665),o=n(7297),s=n(3321),l=n(7366);function c(){let e=(0,o.Z)(["\n  color: #fff;\n  text-transform: none;\n"]);return c=function(){return e},e}let d=(0,l.Z)(s.Z)(c());var u=n(2554),h=n(2005),p=n(7798),f=n(7357);function x(e){let{rows:t,columns:n}=e;return(0,a.jsx)(f.Z,{sx:{height:"100%",width:"100%"},children:(0,a.jsx)(h._,{rows:t,columns:n,slots:{toolbar:p.n},initialState:{pagination:{paginationModel:{pageSize:100}}},checkboxSelection:!0})})}var m=n(1903),g=n(1664),j=n.n(g),Z=n(4480),w=n(1196);function _(){let[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!1),[s,l]=(0,Z.FV)(w.L),[c,h]=(0,r.useState)(""),p=()=>{(0,i.Ez)(t,s,c)};return(0,r.useEffect)(()=>{p()},[s]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("main",{children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(u.Z,{token:s,setToken:l,open:n,setOpen:o}),(0,a.jsxs)(f.Z,{m:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[" ",(0,a.jsx)(m.Z,{value:c,onChange:e=>h(e.target.value),label:"Search by words",variant:"outlined",size:"small",style:{flex:1,marginRight:8}}),(0,a.jsx)(d,{variant:"contained",onClick:p,children:"Serach"})]}),0!==e.length?(0,a.jsx)(x,{rows:e,columns:[{field:"title",headerName:"タイトル",width:700,cellClassName:"wrap-cell-text",flex:2},{field:"user_id",headerName:"ユーザーID",width:150,flex:1},{field:"username",headerName:"ユーザー名",width:150,flex:1},{field:"created_at",headerName:"投稿日時",width:220,flex:1},{field:"detail_button",headerName:"詳細ページ",sortable:!1,width:90,flex:1,renderCell:e=>(0,a.jsx)(j(),{href:"/detail/".concat(e.row.id),children:(0,a.jsx)(d,{variant:"contained",children:"Go"})})}]}):(0,a.jsx)("p",{children:"Loading... or You may have been caught in a rate limit, please enter a Qiita API token from the setting button in the upper right corner"})]})})})}},4665:function(e,t,n){"use strict";n.d(t,{Ez:function(){return i},iY:function(){return s}});var a=n(6154);let r=(e,t,n,a,r)=>({id:e,title:t,user_id:n,username:a,created_at:r}),i=async(e,t,n)=>{await a.Z.get("https://qiita.com/api/v2/items",{headers:t?{Authorization:"Bearer ".concat(t)}:{},params:n?{page:1,per_page:20,query:n}:{page:1,per_page:20}}).then(e=>JSON.parse(JSON.stringify(e.data))).then(t=>{let n=t.map(e=>r(e.id,e.title,e.user.id,e.user.name,e.created_at));e(n)}).catch(e=>{console.log(e)})},o=(e,t,n)=>({id:e,title:t,rendered_body:n}),s=async(e,t,n)=>{await a.Z.get("https://qiita.com/api/v2/items/".concat(t),{headers:n?{Authorization:"Bearer ".concat(n)}:{}}).then(e=>JSON.parse(JSON.stringify(e.data))).then(t=>{let n=o(t.id,t.title,t.rendered_body);e(n)}).catch(e=>{console.log(e)})}},1196:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var a=n(4480);let r=(0,a.cn)({key:"token",default:""})}},function(e){e.O(0,[277,107,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);